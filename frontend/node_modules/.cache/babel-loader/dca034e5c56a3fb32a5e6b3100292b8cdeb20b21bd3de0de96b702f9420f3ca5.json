{"ast":null,"code":"var _jsxFileName = \"D:\\\\MernStack-Tour-Management-main\\\\travel World\\\\frontend\\\\src\\\\Pages\\\\MyTrip.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { myContext } from './context'; // Adjust the import according to your context file\nimport Layout from './Layout'; // Adjust the import according to your layout component\nimport Loader from './Loader'; // Adjust the import according to your loader component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Order() {\n  _s();\n  const userid = JSON.parse(localStorage.getItem('user')).user.uid;\n  const context = useContext(myContext);\n  const {\n    mode,\n    loading\n  } = context;\n  const [orders, setOrders] = useState([]);\n\n  // Fetch all bookings for the current user\n  useEffect(() => {\n    const fetchBookings = async () => {\n      try {\n        const response = await fetch('/api/bookings'); // Adjust the endpoint as necessary\n        const data = await response.json();\n        if (data.success) {\n          setOrders(data.data.filter(order => order.userId === userid));\n        }\n      } catch (error) {\n        console.error(\"Error fetching bookings:\", error);\n      }\n    };\n    fetchBookings();\n  }, [userid]);\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: [loading && /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 19\n    }, this), orders.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full pt-10\",\n      children: orders.map(booking => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mx-auto max-w-5xl justify-center px-6 md:flex-wrap xl:px-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rounded-lg md:w-2/3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"justify-between mb-6 rounded-lg bg-white p-6 shadow-md sm:flex sm:justify-start\",\n            style: {\n              backgroundColor: mode === 'dark' ? '#282c34' : '',\n              color: mode === 'dark' ? 'white' : ''\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sm:ml-4 sm:flex sm:w-full sm:justify-between\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-5 sm:mt-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg font-bold text-gray-900\",\n                  style: {\n                    color: mode === 'dark' ? 'white' : ''\n                  },\n                  children: [\"Tour: \", booking.tourName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 48,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-xs text-gray-700\",\n                  style: {\n                    color: mode === 'dark' ? 'white' : ''\n                  },\n                  children: [\"Full Name: \", booking.fullName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 51,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-xs text-gray-700\",\n                  style: {\n                    color: mode === 'dark' ? 'white' : ''\n                  },\n                  children: [\"Guest Size: \", booking.guestSize]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-xs text-gray-700\",\n                  style: {\n                    color: mode === 'dark' ? 'white' : ''\n                  },\n                  children: [\"Phone: \", booking.phone]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-xs text-gray-700\",\n                  style: {\n                    color: mode === 'dark' ? 'white' : ''\n                  },\n                  children: [\"Booking Date: \", new Date(booking.bookAt).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 47,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 15\n        }, this)\n      }, booking._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center text-2xl text-white\",\n      children: \"No Orders Found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n}\n_s(Order, \"92Sr3KnMqgiyJOeazLpIEskpFn0=\");\n_c = Order;\nexport default Order;\nvar _c;\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"names":["React","useContext","useEffect","useState","myContext","Layout","Loader","Order","userid","JSON","parse","localStorage","getItem","user","uid","context","mode","loading","orders","setOrders","fetchBookings","response","fetch","data","json","success","filter","order","userId","error","console","length","map","booking","backgroundColor","color","tourName","fullName","guestSize","phone","Date","bookAt","toLocaleString","_id"],"sources":["D:/MernStack-Tour-Management-main/travel World/frontend/src/Pages/MyTrip.jsx"],"sourcesContent":["\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { myContext } from './context'; // Adjust the import according to your context file\r\nimport Layout from './Layout'; // Adjust the import according to your layout component\r\nimport Loader from './Loader'; // Adjust the import according to your loader component\r\n\r\nfunction Order() {\r\n  const userid = JSON.parse(localStorage.getItem('user')).user.uid;\r\n  const context = useContext(myContext);\r\n  const { mode, loading } = context;\r\n\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  // Fetch all bookings for the current user\r\n  useEffect(() => {\r\n    const fetchBookings = async () => {\r\n      try {\r\n        const response = await fetch('/api/bookings'); // Adjust the endpoint as necessary\r\n        const data = await response.json();\r\n        if (data.success) {\r\n          setOrders(data.data.filter(order => order.userId === userid));\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching bookings:\", error);\r\n      }\r\n    };\r\n\r\n    fetchBookings();\r\n  }, [userid]);\r\n\r\n  return (\r\n    <Layout>\r\n      {loading && <Loader />}\r\n      {orders.length > 0 ? (\r\n        <div className=\"h-full pt-10\">\r\n          {orders.map((booking) => (\r\n            <div key={booking._id} className=\"mx-auto max-w-5xl justify-center px-6 md:flex-wrap xl:px-0\">\r\n              <div className=\"rounded-lg md:w-2/3\">\r\n                <div\r\n                  className=\"justify-between mb-6 rounded-lg bg-white p-6 shadow-md sm:flex sm:justify-start\"\r\n                  style={{\r\n                    backgroundColor: mode === 'dark' ? '#282c34' : '',\r\n                    color: mode === 'dark' ? 'white' : '',\r\n                  }}\r\n                >\r\n                  <div className=\"sm:ml-4 sm:flex sm:w-full sm:justify-between\">\r\n                    <div className=\"mt-5 sm:mt-0\">\r\n                      <h2 className=\"text-lg font-bold text-gray-900\" style={{ color: mode === 'dark' ? 'white' : '' }}>\r\n                        Tour: {booking.tourName}\r\n                      </h2>\r\n                      <p className=\"mt-1 text-xs text-gray-700\" style={{ color: mode === 'dark' ? 'white' : '' }}>\r\n                        Full Name: {booking.fullName}\r\n                      </p>\r\n                      <p className=\"mt-1 text-xs text-gray-700\" style={{ color: mode === 'dark' ? 'white' : '' }}>\r\n                        Guest Size: {booking.guestSize}\r\n                      </p>\r\n                      <p className=\"mt-1 text-xs text-gray-700\" style={{ color: mode === 'dark' ? 'white' : '' }}>\r\n                        Phone: {booking.phone}\r\n                      </p>\r\n                      <p className=\"mt-1 text-xs text-gray-700\" style={{ color: mode === 'dark' ? 'white' : '' }}>\r\n                        Booking Date: {new Date(booking.bookAt).toLocaleString()}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <h2 className=\"text-center text-2xl text-white\">No Orders Found</h2>\r\n      )}\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Order;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}