{"ast":null,"code":"var _jsxFileName = \"D:\\\\MernStack-Tour-Management-main\\\\travel World\\\\frontend\\\\src\\\\Pages\\\\MyTrip.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Order() {\n  _s();\n  const userid = JSON.parse(localStorage.getItem('user')).user.uid;\n  const context = useContext(myContext);\n  const {\n    mode,\n    loading\n  } = context;\n  const [orders, setOrders] = useState([]);\n\n  // Fetch all bookings for the current user\n  useEffect(() => {\n    const fetchBookings = async () => {\n      try {\n        const response = await fetch('/api/bookings'); // Adjust the endpoint as necessary\n        const data = await response.json();\n        if (data.success) {\n          setOrders(data.data.filter(order => order.userId === userid));\n        }\n      } catch (error) {\n        console.error(\"Error fetching bookings:\", error);\n      }\n    };\n    fetchBookings();\n  }, [userid]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full pt-10\",\n    children: orders.map(booking => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mx-auto max-w-5xl justify-center px-6 md:flex-wrap xl:px-0\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"rounded-lg md:w-2/3\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"justify-between mb-6 rounded-lg bg-white p-6 shadow-md sm:flex sm:justify-start\",\n          style: {\n            backgroundColor: mode === 'dark' ? '#282c34' : '',\n            color: mode === 'dark' ? 'white' : ''\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sm:ml-4 sm:flex sm:w-full sm:justify-between\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-5 sm:mt-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-bold text-gray-900\",\n                style: {\n                  color: mode === 'dark' ? 'white' : ''\n                },\n                children: [\"Tour: \", booking.tourName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 43,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-xs text-gray-700\",\n                style: {\n                  color: mode === 'dark' ? 'white' : ''\n                },\n                children: [\"Full Name: \", booking.fullName]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 46,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-xs text-gray-700\",\n                style: {\n                  color: mode === 'dark' ? 'white' : ''\n                },\n                children: [\"Guest Size: \", booking.guestSize]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-xs text-gray-700\",\n                style: {\n                  color: mode === 'dark' ? 'white' : ''\n                },\n                children: [\"Phone: \", booking.phone]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-xs text-gray-700\",\n                style: {\n                  color: mode === 'dark' ? 'white' : ''\n                },\n                children: [\"Booking Date: \", new Date(booking.bookAt).toLocaleString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 42,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 15\n      }, this)\n    }, booking._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 9\n  }, this);\n}\n_s(Order, \"92Sr3KnMqgiyJOeazLpIEskpFn0=\");\n_c = Order;\nexport default Order;\nvar _c;\n$RefreshReg$(_c, \"Order\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Order","userid","JSON","parse","localStorage","getItem","user","uid","context","myContext","mode","loading","orders","setOrders","fetchBookings","response","fetch","data","json","success","filter","order","userId","error","console","map","booking","backgroundColor","color","tourName","fullName","guestSize","phone","Date","bookAt","toLocaleString","_id"],"sources":["D:/MernStack-Tour-Management-main/travel World/frontend/src/Pages/MyTrip.jsx"],"sourcesContent":["\r\nimport React, { useContext, useEffect, useState } from 'react';\r\n\r\nfunction Order() {\r\n  const userid = JSON.parse(localStorage.getItem('user')).user.uid;\r\n  const context = useContext(myContext);\r\n  const { mode, loading } = context;\r\n\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  // Fetch all bookings for the current user\r\n  useEffect(() => {\r\n    const fetchBookings = async () => {\r\n      try {\r\n        const response = await fetch('/api/bookings'); // Adjust the endpoint as necessary\r\n        const data = await response.json();\r\n        if (data.success) {\r\n          setOrders(data.data.filter(order => order.userId === userid));\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching bookings:\", error);\r\n      }\r\n    };\r\n\r\n    fetchBookings();\r\n  }, [userid]);\r\n\r\n  return (\r\n\r\n        <div className=\"h-full pt-10\">\r\n          {orders.map((booking) => (\r\n            <div key={booking._id} className=\"mx-auto max-w-5xl justify-center px-6 md:flex-wrap xl:px-0\">\r\n              <div className=\"rounded-lg md:w-2/3\">\r\n                <div\r\n                  className=\"justify-between mb-6 rounded-lg bg-white p-6 shadow-md sm:flex sm:justify-start\"\r\n                  style={{\r\n                    backgroundColor: mode === 'dark' ? '#282c34' : '',\r\n                    color: mode === 'dark' ? 'white' : '',\r\n                  }}\r\n                >\r\n                  <div className=\"sm:ml-4 sm:flex sm:w-full sm:justify-between\">\r\n                    <div className=\"mt-5 sm:mt-0\">\r\n                      <h2 className=\"text-lg font-bold text-gray-900\" style={{ color: mode === 'dark' ? 'white' : '' }}>\r\n                        Tour: {booking.tourName}\r\n                      </h2>\r\n                      <p className=\"mt-1 text-xs text-gray-700\" style={{ color: mode === 'dark' ? 'white' : '' }}>\r\n                        Full Name: {booking.fullName}\r\n                      </p>\r\n                      <p className=\"mt-1 text-xs text-gray-700\" style={{ color: mode === 'dark' ? 'white' : '' }}>\r\n                        Guest Size: {booking.guestSize}\r\n                      </p>\r\n                      <p className=\"mt-1 text-xs text-gray-700\" style={{ color: mode === 'dark' ? 'white' : '' }}>\r\n                        Phone: {booking.phone}\r\n                      </p>\r\n                      <p className=\"mt-1 text-xs text-gray-700\" style={{ color: mode === 'dark' ? 'white' : '' }}>\r\n                        Booking Date: {new Date(booking.bookAt).toLocaleString()}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )\r\n}\r\n\r\nexport default Order;"],"mappings":";;AACA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC;AAE/D,SAASC,KAAK,GAAG;EAAA;EACf,MAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAACC,IAAI,CAACC,GAAG;EAChE,MAAMC,OAAO,GAAGX,UAAU,CAACY,SAAS,CAAC;EACrC,MAAM;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGH,OAAO;EAEjC,MAAM,CAACI,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;;EAExC;EACAD,SAAS,CAAC,MAAM;IACd,MAAMgB,aAAa,GAAG,YAAY;MAChC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAe,CAAC,CAAC,CAAC;QAC/C,MAAMC,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,EAAE;QAClC,IAAID,IAAI,CAACE,OAAO,EAAE;UAChBN,SAAS,CAACI,IAAI,CAACA,IAAI,CAACG,MAAM,CAACC,KAAK,IAAIA,KAAK,CAACC,MAAM,KAAKrB,MAAM,CAAC,CAAC;QAC/D;MACF,CAAC,CAAC,OAAOsB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF,CAAC;IAEDT,aAAa,EAAE;EACjB,CAAC,EAAE,CAACb,MAAM,CAAC,CAAC;EAEZ,oBAEM;IAAK,SAAS,EAAC,cAAc;IAAA,UAC1BW,MAAM,CAACa,GAAG,CAAEC,OAAO,iBAClB;MAAuB,SAAS,EAAC,4DAA4D;MAAA,uBAC3F;QAAK,SAAS,EAAC,qBAAqB;QAAA,uBAClC;UACE,SAAS,EAAC,iFAAiF;UAC3F,KAAK,EAAE;YACLC,eAAe,EAAEjB,IAAI,KAAK,MAAM,GAAG,SAAS,GAAG,EAAE;YACjDkB,KAAK,EAAElB,IAAI,KAAK,MAAM,GAAG,OAAO,GAAG;UACrC,CAAE;UAAA,uBAEF;YAAK,SAAS,EAAC,8CAA8C;YAAA,uBAC3D;cAAK,SAAS,EAAC,cAAc;cAAA,wBAC3B;gBAAI,SAAS,EAAC,iCAAiC;gBAAC,KAAK,EAAE;kBAAEkB,KAAK,EAAElB,IAAI,KAAK,MAAM,GAAG,OAAO,GAAG;gBAAG,CAAE;gBAAA,WAAC,QAC1F,EAACgB,OAAO,CAACG,QAAQ;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QACpB,eACL;gBAAG,SAAS,EAAC,4BAA4B;gBAAC,KAAK,EAAE;kBAAED,KAAK,EAAElB,IAAI,KAAK,MAAM,GAAG,OAAO,GAAG;gBAAG,CAAE;gBAAA,WAAC,aAC/E,EAACgB,OAAO,CAACI,QAAQ;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAC1B,eACJ;gBAAG,SAAS,EAAC,4BAA4B;gBAAC,KAAK,EAAE;kBAAEF,KAAK,EAAElB,IAAI,KAAK,MAAM,GAAG,OAAO,GAAG;gBAAG,CAAE;gBAAA,WAAC,cAC9E,EAACgB,OAAO,CAACK,SAAS;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAC5B,eACJ;gBAAG,SAAS,EAAC,4BAA4B;gBAAC,KAAK,EAAE;kBAAEH,KAAK,EAAElB,IAAI,KAAK,MAAM,GAAG,OAAO,GAAG;gBAAG,CAAE;gBAAA,WAAC,SACnF,EAACgB,OAAO,CAACM,KAAK;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QACnB,eACJ;gBAAG,SAAS,EAAC,4BAA4B;gBAAC,KAAK,EAAE;kBAAEJ,KAAK,EAAElB,IAAI,KAAK,MAAM,GAAG,OAAO,GAAG;gBAAG,CAAE;gBAAA,WAAC,gBAC5E,EAAC,IAAIuB,IAAI,CAACP,OAAO,CAACQ,MAAM,CAAC,CAACC,cAAc,EAAE;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QACtD;YAAA;cAAA;cAAA;cAAA;YAAA;UACA;YAAA;YAAA;YAAA;UAAA;QACF;UAAA;UAAA;UAAA;QAAA;MACF;QAAA;QAAA;QAAA;MAAA;IACF,GA7BET,OAAO,CAACU,GAAG;MAAA;MAAA;MAAA;IAAA,QA+BtB;EAAC;IAAA;IAAA;IAAA;EAAA,QACE;AAEd;AAAC,GA9DQpC,KAAK;AAAA,KAALA,KAAK;AAgEd,eAAeA,KAAK;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}